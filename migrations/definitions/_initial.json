{"schemas":"DEFINE TABLE component SCHEMAFULL;\n\nDEFINE FIELD reference ON component TYPE string;\nDEFINE FIELD configuration ON component FLEXIBLE TYPE object;\nDEFINE FIELD priority ON component TYPE int DEFAULT 1 ASSERT $value >= 1 && $value <= 4;\nDEFINE TABLE device SCHEMAFULL;\n\nDEFINE FIELD name ON device TYPE string;\nDEFINE FIELD serial ON device TYPE string;\nDEFINE FIELD model ON device TYPE string;\nDEFINE FIELD manufacturer ON device TYPE string;\nDEFINE FIELD sw_version ON device TYPE option<string>;\nDEFINE FIELD hw_version ON device TYPE option<string>;\nDEFINE TABLE entity SCHEMALESS;\n\nDEFINE FIELD state ON entity TYPE string;\nDEFINE FIELD enabled ON entity TYPE bool DEFAULT true;\nDEFINE FIELD available ON entity TYPE bool DEFAULT true;\nDEFINE FIELD class ON entity TYPE string;\nDEFINE FIELD attributes ON entity TYPE object;\n\n-- DEFINE EVENT state_changed ON TABLE entity WHEN $before.state != $after.state THEN ();\nDEFINE TABLE script_migration SCHEMAFULL\n    PERMISSIONS\n        FOR select FULL\n        FOR create, update, delete NONE;\n\nDEFINE FIELD script_name ON script_migration TYPE string;\nDEFINE FIELD executed_at ON script_migration TYPE datetime DEFAULT time::now();","events":""}